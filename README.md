# zwcProjection1_TSTING
4.12测试报告 
----------
点云的畸变矫正代码可能出现了问题，轨迹漂移很大并且距离远远长于实际的路程

5.27报告 
-------
未进行测试 参照https://github.com/Jinqiang/demo_lidar 改写loam的建图模块代码

接下来的方向是修改视觉里程计，在viso2原本订阅image图像的基础上，将图像特征和三维点云匹配获得一个深度值，然后lm迭代收敛获得转移矩阵


6.6 里程计fusion总结（下周末毕设答辩，在此先进行汇总）  
---------------------------------------------
预期实现目标：v-loam的复现：  

a、读入点云和相机数据  
b、通过单目相机图像生成特征点结合点云数据生成深度图  
c、通过有深度信息的单目视觉里程计生成位姿  
d、上述位姿作为运动先验来初始化建图线程并且对点云进行畸变矫正（畸变矫正采用的是模型是相机在短时间内为匀速运动模型）  
e、利用畸变校正后的点云进行雷达里程计位姿求解  
f、用ICP方法将当前帧得到的去畸变点云和地图云合并（认为在当前帧之前的地图云都是去畸变配准过的）  
g(1)、之前c和e都会输出位姿，c输出当前相机帧的位姿，e输出当前雷达帧的位姿，将这两个位姿进行坐标系转化，统一转化到全局坐标系  
g(2)、位姿输出频率不统一，vloam论文里没有说它是怎么处理的，我之前认为他可能是采用了某种滤波进行处理，但是在看了demo_lidar代码后，我觉得作者可能是按照有优化的点云雷达里程计低频位姿就输出低频的雷达位姿，没有就输出高频的单目位姿的方法(demo_lidar对于相机和ba的处理就是这个)。  

目前进度：
-------
首先可以确定的是，之前寒假写的松耦合和预期目标偏离的有点远，基本是要大改的（双目-单目，去畸变点云和地图合并，位姿统一输出）    
(ps:这个寒假真的浪费了，基本没做什么代码工作，眼高手低，写起来才知道有多少坑)    
寒假做的工作:总结起来就一条，点云预处理（简单说，就是用双目viso作为运动先验，来去除雷达点云的畸变，畸变模型建模为匀速运动模型，利用对应点之间的距离公式结合线性插值，用LM求解）    
目前完成的复现工作：（寒假做的代码基本是要从头来过的，抛开不谈）   
a、读入点云和相机数据   
b、单目viso读取相机图像生成特征点结合点云数据生成深度图   
c、单目视觉里程计生成位姿   
d、点云畸变矫正   
e、雷达里程计求解(这个部分可以直接套用loam odometry部分再稍加修改)  
